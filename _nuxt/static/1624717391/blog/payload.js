__NUXT_JSONP__("/blog", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return {data:[{}],fetch:{"data-v-f6b786be:0":{qiitaPosts:[{rendered_body:"\u003Cp\u003E作るもの⤵︎\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F9b032d9c9093f73ed09b1eeb046599a3fbcd7f39\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f35323666313263312d353732632d343831642d356461312d3838366562353562386461652e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif\" alt=\"rotation_sample.gif\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"先に完成物\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%85%88%E3%81%AB%E5%AE%8C%E6%88%90%E7%89%A9\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E先に完成物\u003C\u002Fh1\u003E\n\n\u003Cp\u003E僕みたいにせっかちな方はこちらからどうぞ！\u003Cbr\u003E\n省略しているので、実際に使うときは関数にまとめるなりしてくださいまし。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Ejs\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体のgeometryとmaterialを定義\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EIcosahedronGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 半径, 面の細かさ\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMeshBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0x49ef4\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体の色\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMesh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 枠線を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineSegments\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EEdgesGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線を生成する元になるgeometry\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0xffffff\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線のmaterial\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体に枠線を追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F sceneに追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 再帰\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003ErequestAnimationFrame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F レンダリング\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Erenderer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erender\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ecamera\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を回転させる\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erotation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.01\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 関数呼び出し\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eanimation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"元となるコード\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%85%83%E3%81%A8%E3%81%AA%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E元となるコード\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eシーンやカメラ、レンダラーは作成済みとする。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Ejs\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体のgeometryとmaterialを定義\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EIcosahedronGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 半径, 面の細かさ\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMeshBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0x49ef4\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体の色\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMesh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F sceneに追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"枠線を追加する\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E6%9E%A0%E7%B7%9A%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E枠線を追加する\u003C\u002Fh1\u003E\n\n\u003Cp\u003ELineSegments、EdgesGeometryを用いて作成する。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Ejs\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体のgeometryとmaterialを定義\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EIcosahedronGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 半径, 面の細かさ\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMeshBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0x49ef4\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体の色\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMesh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 枠線を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineSegments\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EEdgesGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線を生成する元になるgeometry\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0xffffff\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線のmaterial\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F sceneに追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"アニメーション\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eアニメーション\u003C\u002Fh1\u003E\n\n\u003Cp\u003E円が回転するアニメーションを追加してみる。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Ejs\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F 再帰\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003ErequestAnimationFrame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F レンダリング\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003Erenderer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erender\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ecamera\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を回転させる\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erotation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.01\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erotation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.01\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 関数呼び出し\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eanimation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F9b032d9c9093f73ed09b1eeb046599a3fbcd7f39\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f35323666313263312d353732632d343831642d356461312d3838366562353562386461652e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif\" alt=\"rotation_sample.gif\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003E回った！\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"枠線を立体に結合する\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E6%9E%A0%E7%B7%9A%E3%82%92%E7%AB%8B%E4%BD%93%E3%81%AB%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E枠線を立体に結合する\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eこれで完成でも良いが、この十二面体をアニメーションするたびに毎回\u003Ccode\u003Eicosahedron\u003C\u002Fcode\u003Eと\u003Ccode\u003EicosahedronLine\u003C\u002Fcode\u003Eを指定するのは面倒くさい。\u003Cbr\u003E\nので、\u003Cstrong\u003Eシーンではなく十二面体に枠線を追加する\u003C\u002Fstrong\u003E。\u003Cdel\u003E（これが出来るのに気づかず一晩潰した）\u003C\u002Fdel\u003E\u003Cbr\u003E\nアニメーションのターゲットから外すのを忘れずに。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"diff_javascript\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Ejs\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体のgeometryとmaterialを定義\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EIcosahedronGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 半径, 面の細かさ\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMeshBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0x49ef4\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体の色\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EMesh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ematerial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 枠線を作成\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineSegments\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EEdgesGeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Egeometry\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線を生成する元になるgeometry\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ETHREE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ELineBasicMaterial\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Ecolor\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mh\"\u003E0xffffff\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 線のmaterial\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F sceneに十二面体を追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"hdl\"\u003E\u003Cspan class=\"o\"\u003E- \u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F scene.add(icosahedronLine);\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 十二面体に枠線を追加\u003C\u002Fspan\u003E\n\u003Cspan class=\"hil\"\u003E\u003Cspan class=\"o\"\u003E+ \u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EicosahedronLine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 再帰\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003ErequestAnimationFrame\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eanimate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F レンダリング\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Erenderer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erender\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Escene\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ecamera\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F 二十面体を回転させる\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eicosahedron\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Erotation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.01\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hdl\"\u003E\u003Cspan class=\"o\"\u003E- \u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F icosahedronLine.rotation.y += 0.01;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 関数呼び出し\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eanimation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこれで、\u003Ccode\u003Eicosahedron\u003C\u002Fcode\u003Eを\u003Ccode\u003Eanimate()\u003C\u002Fcode\u003Eやら\u003Ccode\u003EAnimationMixer\u003C\u002Fcode\u003Eやらでアニメーションさせれば\u003Cstrong\u003E枠線も一緒にアニメーションする\u003C\u002Fstrong\u003Eようになった。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh1\u003E\n\n\u003Cp\u003E意外と検索に引っ掛からなかったので、メモがてら掲載しました。\u003C\u002Fp\u003E\n",body:"作るもの⤵︎\n![rotation_sample.gif](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif)\n\n# 先に完成物\n\n僕みたいにせっかちな方はこちらからどうぞ！\n省略しているので、実際に使うときは関数にまとめるなりしてくださいまし。\n\n```js:js\n\u002F\u002F 二十面体のgeometryとmaterialを定義\nconst geometry = new THREE.IcosahedronGeometry(300, 3); \u002F\u002F 半径, 面の細かさ\nconst material = new THREE.MeshBasicMaterial({ color: 0x49ef4 }); \u002F\u002F 二十面体の色\n\n\u002F\u002F 二十面体を作成\nconst icosahedron = new THREE.Mesh(geometry, material);\n\n\u002F\u002F 枠線を作成\nconst icosahedronLine = new THREE.LineSegments(\n  new THREE.EdgesGeometry(geometry), \u002F\u002F 線を生成する元になるgeometry\n  new THREE.LineBasicMaterial({ color: 0xffffff }) \u002F\u002F 線のmaterial\n);\n\n\u002F\u002F 二十面体に枠線を追加\nicosahedron.add(icosahedronLine);\n\n\u002F\u002F sceneに追加\nscene.add(icosahedron);\n\nfunction animate() {\n  \u002F\u002F 再帰\n  requestAnimationFrame(animate);\n  \u002F\u002F レンダリング\n  renderer.render(scene, camera);\n\n  \u002F\u002F 二十面体を回転させる\n  icosahedron.rotation.y += 0.01;\n}\n\n\u002F\u002F 関数呼び出し\nanimation();\n```\n\n\n\n\n# 元となるコード\n\nシーンやカメラ、レンダラーは作成済みとする。\n\n```js:js\n\u002F\u002F 二十面体のgeometryとmaterialを定義\nconst geometry = new THREE.IcosahedronGeometry(300, 3); \u002F\u002F 半径, 面の細かさ\nconst material = new THREE.MeshBasicMaterial({ color: 0x49ef4 }); \u002F\u002F 二十面体の色\n\n\u002F\u002F 二十面体を作成\nconst icosahedron = new THREE.Mesh(geometry, material);\n\n\u002F\u002F sceneに追加\nscene.add(icosahedron)\n```\n\n\n# 枠線を追加する\nLineSegments、EdgesGeometryを用いて作成する。\n\n```js:js\n\u002F\u002F 二十面体のgeometryとmaterialを定義\nconst geometry = new THREE.IcosahedronGeometry(300, 3); \u002F\u002F 半径, 面の細かさ\nconst material = new THREE.MeshBasicMaterial({ color: 0x49ef4 }); \u002F\u002F 二十面体の色\n\n\u002F\u002F 二十面体を作成\nconst icosahedron = new THREE.Mesh(geometry, material);\n\n+ \u002F\u002F 枠線を作成\n+ const icosahedronLine = new THREE.LineSegments(\n+   new THREE.EdgesGeometry(geometry), \u002F\u002F 線を生成する元になるgeometry\n+   new THREE.LineBasicMaterial({ color: 0xffffff }) \u002F\u002F 線のmaterial\n+ );\n\n\u002F\u002F sceneに追加\nscene.add(icosahedron);\n+ scene.add(icosahedronLine);\n```\n\n# アニメーション\n\n円が回転するアニメーションを追加してみる。\n\n```js:js\n+ function animate() {\n+   \u002F\u002F 再帰\n+   requestAnimationFrame(animate);\n+   \u002F\u002F レンダリング\n+   renderer.render(scene, camera);\n\n+   \u002F\u002F 二十面体を回転させる\n+   icosahedron.rotation.y += 0.01;\n+   icosahedronLine.rotation.y += 0.01;\n+ }\n\n+ \u002F\u002F 関数呼び出し\n+ animation();\n```\n\n\n![rotation_sample.gif](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F526f12c1-572c-481d-5da1-886eb55b8dae.gif)\n\n回った！\n\n\n# 枠線を立体に結合する\n\nこれで完成でも良いが、この十二面体をアニメーションするたびに毎回`icosahedron`と`icosahedronLine`を指定するのは面倒くさい。\nので、**シーンではなく十二面体に枠線を追加する**。~~（これが出来るのに気づかず一晩潰した）~~\nアニメーションのターゲットから外すのを忘れずに。\n\n```diff_javascript:js\n\u002F\u002F 二十面体のgeometryとmaterialを定義\nconst geometry = new THREE.IcosahedronGeometry(300, 3); \u002F\u002F 半径, 面の細かさ\nconst material = new THREE.MeshBasicMaterial({ color: 0x49ef4 }); \u002F\u002F 二十面体の色\n\n\u002F\u002F 二十面体を作成\nconst icosahedron = new THREE.Mesh(geometry, material);\n\n\u002F\u002F 枠線を作成\nconst icosahedronLine = new THREE.LineSegments(\n  new THREE.EdgesGeometry(geometry), \u002F\u002F 線を生成する元になるgeometry\n  new THREE.LineBasicMaterial({ color: 0xffffff }) \u002F\u002F 線のmaterial\n);\n\n\u002F\u002F sceneに十二面体を追加\nscene.add(icosahedron);\n- \u002F\u002F scene.add(icosahedronLine);\n\u002F\u002F 十二面体に枠線を追加\n+ icosahedron.add(icosahedronLine);\n\nfunction animate() {\n  \u002F\u002F 再帰\n  requestAnimationFrame(animate);\n  \u002F\u002F レンダリング\n  renderer.render(scene, camera);\n\n  \u002F\u002F 二十面体を回転させる\n  icosahedron.rotation.y += 0.01;\n- \u002F\u002F icosahedronLine.rotation.y += 0.01;\n}\n\n\u002F\u002F 関数呼び出し\nanimation();\n```\n\n\nこれで、`icosahedron`を`animate()`やら`AnimationMixer`やらでアニメーションさせれば**枠線も一緒にアニメーションする**ようになった。\n\n\n# おしまい\n\n意外と検索に引っ掛からなかったので、メモがてら掲載しました。\n",coediting:b,comments_count:d,created_at:"2021-06-10T21:57:17+09:00",group:a,id:"a0317061ed00f0846056",likes_count:c,private:b,reactions_count:d,tags:[{name:l,versions:[]},{name:"three.js",versions:[]}],title:"【three.js】Meshに枠線を追加しアニメーションする",updated_at:"2021-06-10T22:01:40+09:00",url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002Fa0317061ed00f0846056",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a},{rendered_body:"\u003Cp\u003E結論から言えばそんなに大したことない話なんですけど、意外と使うので備忘録としてアウトプット。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"とっても便利なtimer\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%A8%E3%81%A3%E3%81%A6%E3%82%82%E4%BE%BF%E5%88%A9%E3%81%AAtimer\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eとっても便利なTimer\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eアプリを作るときには、何かしらの処理でほぼ必ず使うであろうTimer。\u003Cbr\u003E\nSwiftにも使いやすいTimer関数が用意されています。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EViewController.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EViewController\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIViewController\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Etimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETimer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecount\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EInt\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EviewDidLoad\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Esuper\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EviewDidLoad\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F １秒毎にup()を実行\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Etimer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETimer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EscheduledTimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EtimeInterval\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Etarget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Eselector\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003E#selector(\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eself.up\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EuserInfo\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enil\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Erepeats\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"kd\"\u003E@objc\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eup\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F 60秒経ったらタイマーを止める\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecount\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E60\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Etimer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einvalidate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecount\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこんな感じで変数にタイマーを保存して、後から\u003Ccode\u003E.invalidate()\u003C\u002Fcode\u003Eしてタイマーをストップ＆破棄するのが基本的な使い方です。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"毎回変数に入れるのだるくない\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E6%AF%8E%E5%9B%9E%E5%A4%89%E6%95%B0%E3%81%AB%E5%85%A5%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%A0%E3%82%8B%E3%81%8F%E3%81%AA%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E毎回変数に入れるのだるくない？\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eストップウォッチ的な奴は別ですが、上のサンプルみたいに「\u003Cstrong\u003Ex秒後に一回処理を実行する\u003C\u002Fstrong\u003E」みたいなパターンではすぐにタイマーを破棄することになるのでいちいち変数に入れるのはめんどくさいですよね。\u003Cbr\u003E\nしかもタイマーの数が増えていく場合には変数を追加していかなければならない。\u003C\u002Fp\u003E\n\n\u003Cp\u003Eそこでタイマーを変数に入れなくても止める（invalidate()する）ことにしました。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"引数に自分自身を入れちゃおう\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%BC%95%E6%95%B0%E3%81%AB%E8%87%AA%E5%88%86%E8%87%AA%E8%BA%AB%E3%82%92%E5%85%A5%E3%82%8C%E3%81%A1%E3%82%83%E3%81%8A%E3%81%86\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E引数に自分自身を入れちゃおう\u003C\u002Fh1\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EViewController.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EViewController\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIViewController\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F 30秒後に止まるタイマー\u003C\u002Fspan\u003E\n        \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EsetTimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"kt\"\u003ETimer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EscheduledTimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EtimeInterval\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E30\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F x秒後\u003C\u002Fspan\u003E\n                                 \u003Cspan class=\"nv\"\u003Etarget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n                                 \u003Cspan class=\"nv\"\u003Eselector\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003E#selector(\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eself.stopTimer(_:)\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 引数にTimer自身を指定する\u003C\u002Fspan\u003E\n                                 \u003Cspan class=\"nv\"\u003EuserInfo\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Enil\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \n                                 \u003Cspan class=\"nv\"\u003Erepeats\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nf\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Timer started\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"kd\"\u003E@objc\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EstopTimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003E_\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Etimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETimer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Etimer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einvalidate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n            \u003Cspan class=\"nf\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\"Timer stopped\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこのように\u003Ccode\u003Eselector\u003C\u002Fcode\u003Eで関数を指定するときに引数を自分自身にすることで、変数にTimerのインスタンスを保持しなくてもあとで\u003Ccode\u003E.invalidate()\u003C\u002Fcode\u003Eすることができます。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh1\u003E\n\n\u003Cp\u003ETimerはメモリを圧迫するので、不要になったら必ず\u003Ccode\u003E.invalidate()\u003C\u002Fcode\u003Eしよう。\u003C\u002Fp\u003E\n",body:"結論から言えばそんなに大したことない話なんですけど、意外と使うので備忘録としてアウトプット。\n\n# とっても便利なTimer\n\nアプリを作るときには、何かしらの処理でほぼ必ず使うであろうTimer。\nSwiftにも使いやすいTimer関数が用意されています。\n\n```swift:ViewController.swift\nclass ViewController: UIViewController {\n\n  var timer: Timer = Timer()\n  var count: Int = 0\n\n  override func viewDidLoad() {\n        super.viewDidLoad()\n\n        \u002F\u002F １秒毎にup()を実行\n        timer = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(self.up), userInfo: nil, repeats: false)\n  }\n\n  @objc func up() {\n        \u002F\u002F 60秒経ったらタイマーを止める\n        if count \u003E 60 {\n            timer.invalidate()\n        } else {\n            count += 1\n        }\n  }\n\n}\n```\n\nこんな感じで変数にタイマーを保存して、後から`.invalidate()`してタイマーをストップ＆破棄するのが基本的な使い方です。\n\n\n# 毎回変数に入れるのだるくない？\n\nストップウォッチ的な奴は別ですが、上のサンプルみたいに「**x秒後に一回処理を実行する**」みたいなパターンではすぐにタイマーを破棄することになるのでいちいち変数に入れるのはめんどくさいですよね。\nしかもタイマーの数が増えていく場合には変数を追加していかなければならない。\n\nそこでタイマーを変数に入れなくても止める（invalidate()する）ことにしました。\n\n\n# 引数に自分自身を入れちゃおう\n``````swift:ViewController.swift\nclass ViewController: UIViewController {\n        \u002F\u002F 30秒後に止まるタイマー\n        func setTimer() {\n            Timer.scheduledTimer(timeInterval: 30, \u002F\u002F x秒後\n                                 target: self,\n                                 selector: #selector(self.stopTimer(_:)), \u002F\u002F 引数にTimer自身を指定する\n                                 userInfo: nil, \n                                 repeats: false)\n            print(\"Timer started\")\n        }\n\n        @objc func stopTimer(_ timer: Timer) {\n            timer.invalidate()\n            print(\"Timer stopped\")\n        }\n}\n```\n\nこのように`selector`で関数を指定するときに引数を自分自身にすることで、変数にTimerのインスタンスを保持しなくてもあとで`.invalidate()`することができます。\n\n\n# おしまい\nTimerはメモリを圧迫するので、不要になったら必ず`.invalidate()`しよう。\n",coediting:b,comments_count:d,created_at:"2021-03-01T19:48:52+09:00",group:a,id:"3a53bdd12f8a63244f08",likes_count:c,private:b,reactions_count:d,tags:[{name:j,versions:[]},{name:k,versions:[]},{name:m,versions:[]}],title:"【Swift5】Timerを変数に保存しないでinvalidateする",updated_at:"2021-03-01T19:52:19+09:00",url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002F3a53bdd12f8a63244f08",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a},{rendered_body:"\n\u003Ch1\u003E\n\u003Cspan id=\"カスタムクラスでスマートにコーディングするぜ\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A7%E3%82%B9%E3%83%9E%E3%83%BC%E3%83%88%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%99%E3%82%8B%E3%81%9C\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eカスタムクラスでスマートにコーディングするぜ！\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eみなさんご存知の通り、Swiftにももちろんカスタムクラスを作る機能があります。\u003Cbr\u003E\nしかし！カスタムクラスはUserDefaultsに直接保存できない！\u003Cdel\u003E（Realm使えよ）\u003C\u002Fdel\u003E\u003Cbr\u003E\nそこでSwift5でのUserDefalutsへのカスタムクラス保存をまとめておきます。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"カスタムクラスをバイナリ形式に変換する\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E5%BD%A2%E5%BC%8F%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eカスタムクラスをバイナリ形式に変換する\u003C\u002Fh1\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETask.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIKit\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETask\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSObject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSCoding\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Edate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F 初期化\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EInt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EString\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Edate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edate\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Edate\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F ここから変換用コード\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F NSKeyedArchiverで呼び出されるエンコード処理\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eencode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ewith\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSCoder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eencode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"name\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eencode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"date\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F NSKeyedUnarchiverで呼び出されるデコード処理\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Erequired\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E?(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSCoder\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EdecodeObject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"name\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas?\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EString\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Edate\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecoder\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EdecodeObject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"date\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas?\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EDate\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eやり方は、いつものカスタムクラスに\u003Ccode\u003Eencode\u003C\u002Fcode\u003Eと\u003Ccode\u003Edecode\u003C\u002Fcode\u003Eに関する処理を書いておくだけです。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"保存\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E4%BF%9D%E5%AD%98\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E保存\u003C\u002Fh1\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EViewController.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F 保存するカスタムクラスを含む配列\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EtasksArray\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003ETask\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[]\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Etask\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ETask\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"タスク名\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Edate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003EtasksArray\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eappend\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etask\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F バイナリ形式にエンコード\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Etry!\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSKeyedArchiver\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EarchivedData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EwithRootObject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EtasksArray\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003ErequiringSecureCoding\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 変換したものをUserDefaultsへ保存\u003C\u002Fspan\u003E\n\u003Cspan class=\"kt\"\u003EUserDefaults\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estandard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eset\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EtasksArrayData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"tasksArray\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"取得\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%8F%96%E5%BE%97\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E取得\u003C\u002Fh1\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EViewController.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F バイナリ形式のものをUserDefaultsから取得\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Edata\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUserDefaults\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estandard\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Eobject\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003EforKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E\"tasksArray\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas!\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EData\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 取得したものをデコード\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003EtasksArray\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Etry!\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ENSKeyedUnarchiver\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EunarchiveTopLevelObjectWithData\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas!\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003ETask\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこんな感じ。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh1\u003E\n\n\u003Cp\u003Eほんとはtryで失敗した時のエラーハンドリングもした方が丁寧です。\u003C\u002Fp\u003E\n",body:"# カスタムクラスでスマートにコーディングするぜ！\n\nみなさんご存知の通り、Swiftにももちろんカスタムクラスを作る機能があります。\nしかし！カスタムクラスはUserDefaultsに直接保存できない！~~（Realm使えよ）~~\nそこでSwift5でのUserDefalutsへのカスタムクラス保存をまとめておきます。\n\n\n# カスタムクラスをバイナリ形式に変換する\n```swift:Task.swift\nimport UIKit\n\nclass Task: NSObject, NSCoding {\n    var name: String!\n    var date: Date!\n    \n    \u002F\u002F 初期化\n    init(id: Int, name: String, date: Date) {\n        self.name = name\n        self.date = date\n    }\n\n    \u002F\u002F ここから変換用コード\n    \u002F\u002F NSKeyedArchiverで呼び出されるエンコード処理\n    func encode(with coder: NSCoder) {\n        coder.encode(self.name, forKey: \"name\")\n        coder.encode(self.date, forKey: \"date\")\n    }\n    \n    \u002F\u002F NSKeyedUnarchiverで呼び出されるデコード処理\n    required init?(coder: NSCoder) {\n        name = coder.decodeObject(forKey: \"name\") as? String\n        date = coder.decodeObject(forKey: \"date\") as? Date\n    }\n}\n```\n\nやり方は、いつものカスタムクラスに`encode`と`decode`に関する処理を書いておくだけです。\n\n\n# 保存\n```swift:ViewController.swift\n\u002F\u002F 保存するカスタムクラスを含む配列\nvar tasksArray: [Task] = []\nlet task = Task.init(name: \"タスク名\", date: Date())\ntasksArray.append(task)\n\n\u002F\u002F バイナリ形式にエンコード\nlet data = try! NSKeyedArchiver.archivedData(withRootObject: tasksArray, requiringSecureCoding: false)\n\n\u002F\u002F 変換したものをUserDefaultsへ保存\nUserDefaults.standard.set(tasksArrayData, forKey: \"tasksArray\")\n```\n\n\n# 取得\n```swift:ViewController.swift\n\u002F\u002F バイナリ形式のものをUserDefaultsから取得\nlet data = UserDefaults.standard.object(forKey: \"tasksArray\") as! Data\n\n\u002F\u002F 取得したものをデコード\ntasksArray = try! NSKeyedUnarchiver.unarchiveTopLevelObjectWithData(data) as! [Task]\n```\n\nこんな感じ。\n\n\n# おしまい\nほんとはtryで失敗した時のエラーハンドリングもした方が丁寧です。\n",coediting:b,comments_count:d,created_at:n,group:a,id:"fca8093c701729a47d00",likes_count:d,private:b,reactions_count:d,tags:[{name:j,versions:[]},{name:"iOS",versions:[]},{name:k,versions:[]},{name:"UserDefaults",versions:[]},{name:m,versions:[]}],title:"【Swift5】カスタムクラスをUserDefaultsへ保存する",updated_at:n,url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002Ffca8093c701729a47d00",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a},{rendered_body:"\n\u003Ch1\u003E\n\u003Cspan id=\"nuxtjsでもadobe-fontsを使いたい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#nuxtjs%E3%81%A7%E3%82%82adobe-fonts%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ENuxt.jsでもAdobe Fontsを使いたい\u003C\u002Fh1\u003E\n\n\u003Cp\u003E静的なHTMLページをNuxt.jsで作り直そうと思ったのですが、Adobe Fontsの埋め込みコードを発行しても、以下のようにピュアなJS用のコードしか発行されない。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"javascript\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EAdobeFontsが生成するJS\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EkitId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E各自異なるID\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EscriptTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3000\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EdocumentElement\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Et\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EsetTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"se\"\u003E\\b\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003Ewf-loading\u003C\u002Fspan\u003E\u003Cspan class=\"se\"\u003E\\b\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002Fg\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E wf-inactive\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EscriptTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateElement\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetElementsByTagName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E wf-loading\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esrc\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Ehttps:\u002F\u002Fuse.typekit.net\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EkitId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E.js\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eonload\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eonreadystatechange\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EreadyState\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&amp;&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Ecomplete\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&amp;&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eloaded\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EclearTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Et\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Etry\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003ETypekit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ecatch\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EparentNode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinsertBefore\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E})(\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Edocument\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこれだとプロジェクトにそのまま読み込めない。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"googleで調べてみる\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#google%E3%81%A7%E8%AA%BF%E3%81%B9%E3%81%A6%E3%81%BF%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EGoogleで調べてみる\u003C\u002Fh1\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"cannot-find-name-typekit\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#cannot-find-name-typekit\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ECannot find name 'Typekit'\u003C\u002Fh2\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fqiita.com\u002Fkeyakko\u002Fitems\u002Ff313290437bbd8044573\" id=\"reference-7b84167182b6c3a71f67\"\u003ENuxt.jsでいい感じにAdobe fontsのwebフォントを読み込む\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003Eこちらの記事の方法でもできるはできるのですが、\u003Ccode\u003ECannot find name 'Typekit'.\u003C\u002Fcode\u003Eエラーが出てしまい、buildができない。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"vuejsでのやり方があった\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#vuejs%E3%81%A7%E3%81%AE%E3%82%84%E3%82%8A%E6%96%B9%E3%81%8C%E3%81%82%E3%81%A3%E3%81%9F\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EVue.jsでのやり方があった\u003C\u002Fh2\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fqiita.com\u002Fxerroxcopy\u002Fitems\u002Fec9ae6b9352dceb73e3b\" id=\"reference-86613348ebbdc2515c08\"\u003EVue.jsとBootstrapVue上でAdobeの日本語ウェブフォントを使う\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003Epluginとして、Adobe Fontsで生成されたJSを単体ファイルとして作成し、それを読み込むという方法。これならいけそう！\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"解決\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E8%A7%A3%E6%B1%BA\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E解決\u003C\u002Fh1\u003E\n\n\u003Cp\u003EまずはAdobe Fontsで生成されたJSをpluginsで作成\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"javascript\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Eplugins\u002Ftypekit.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"cm\"\u003E\u002F* eslint-disable *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E\u002F\u002F めちゃめちゃ怒られるのでESLintは切っておく\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E;(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EkitId\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E各自異なるID\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EscriptTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3000\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EdocumentElement\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Et\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EsetTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"se\"\u003E\\b\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003Ewf-loading\u003C\u002Fspan\u003E\u003Cspan class=\"se\"\u003E\\b\u003C\u002Fspan\u003E\u003Cspan class=\"sr\"\u003E\u002Fg\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E wf-inactive\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EscriptTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateElement\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EgetElementsByTagName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eh\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EclassName\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E wf-loading\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esrc\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Ehttps:\u002F\u002Fuse.typekit.net\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EkitId\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E.js\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eonload\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eonreadystatechange\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EreadyState\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&amp;&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Ecomplete\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&amp;&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eloaded\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003Ef\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\n    \u003Cspan class=\"nx\"\u003EclearTimeout\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Et\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Etry\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003ETypekit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Ecatch\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ee\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EparentNode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EinsertBefore\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Etk\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Es\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E})(\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Edocument\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E作成した\u003Ccode\u003Etypekit.js\u003C\u002Fcode\u003Eをグローバルに読み込む\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"javascript\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Enuxt.config.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E~\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003E省略\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E~\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Eplugins\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Esrc\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E~\u002Fplugins\u002Ftypekit.js\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"na\"\u003Emode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003Eclient\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E'\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n  \u003Cspan class=\"o\"\u003E~\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003E省略\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E~\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eここで\u003Ccode\u003Emode: 'client'\u003C\u002Fcode\u003Eオプションをつけておかないと、SSR時に\u003Cstrong\u003E「documentが見つからないよ！」\u003C\u002Fstrong\u003Eとなるので注意。\u003C\u002Fp\u003E\n\n\u003Ch1\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh1\u003E\n\n\u003Cp\u003E有料だし、あんまりAdobe Fontsを使うことはないかもしれないけどAdobe CC契約している人はぜひ。\u003C\u002Fp\u003E\n",body:"# Nuxt.jsでもAdobe Fontsを使いたい\n静的なHTMLページをNuxt.jsで作り直そうと思ったのですが、Adobe Fontsの埋め込みコードを発行しても、以下のようにピュアなJS用のコードしか発行されない。\n\n```javascript:AdobeFontsが生成するJS\n(function (d) {\n  var config = {\n      kitId: '各自異なるID',\n      scriptTimeout: 3000,\n      async: true,\n    },\n    h = d.documentElement,\n    t = setTimeout(function () {\n      h.className = h.className.replace(\u002F\\bwf-loading\\b\u002Fg, '') + ' wf-inactive'\n    }, config.scriptTimeout),\n    tk = d.createElement('script'),\n    f = false,\n    s = d.getElementsByTagName('script')[0],\n    a\n  h.className += ' wf-loading'\n  tk.src = 'https:\u002F\u002Fuse.typekit.net\u002F' + config.kitId + '.js'\n  tk.async = true\n  tk.onload = tk.onreadystatechange = function () {\n    a = this.readyState\n    if (f || (a && a != 'complete' && a != 'loaded')) return\n    f = true\n    clearTimeout(t)\n    try {\n      Typekit.load(config)\n    } catch (e) {}\n  }\n  s.parentNode.insertBefore(tk, s)\n})(document)\n```\n\nこれだとプロジェクトにそのまま読み込めない。\n\n\n# Googleで調べてみる\n## Cannot find name 'Typekit'\n[Nuxt.jsでいい感じにAdobe fontsのwebフォントを読み込む](https:\u002F\u002Fqiita.com\u002Fkeyakko\u002Fitems\u002Ff313290437bbd8044573)\n\nこちらの記事の方法でもできるはできるのですが、`Cannot find name 'Typekit'.`エラーが出てしまい、buildができない。\n\n## Vue.jsでのやり方があった\n[Vue.jsとBootstrapVue上でAdobeの日本語ウェブフォントを使う](https:\u002F\u002Fqiita.com\u002Fxerroxcopy\u002Fitems\u002Fec9ae6b9352dceb73e3b)\n\npluginとして、Adobe Fontsで生成されたJSを単体ファイルとして作成し、それを読み込むという方法。これならいけそう！\n\n\n# 解決\nまずはAdobe Fontsで生成されたJSをpluginsで作成\n\n```javascript:plugins\u002Ftypekit.js\n\u002F* eslint-disable *\u002F\n\u002F\u002F めちゃめちゃ怒られるのでESLintは切っておく\n;(function (d) {\n  var config = {\n      kitId: '各自異なるID',\n      scriptTimeout: 3000,\n      async: true,\n    },\n    h = d.documentElement,\n    t = setTimeout(function () {\n      h.className = h.className.replace(\u002F\\bwf-loading\\b\u002Fg, '') + ' wf-inactive'\n    }, config.scriptTimeout),\n    tk = d.createElement('script'),\n    f = false,\n    s = d.getElementsByTagName('script')[0],\n    a\n  h.className += ' wf-loading'\n  tk.src = 'https:\u002F\u002Fuse.typekit.net\u002F' + config.kitId + '.js'\n  tk.async = true\n  tk.onload = tk.onreadystatechange = function () {\n    a = this.readyState\n    if (f || (a && a != 'complete' && a != 'loaded')) return\n    f = true\n    clearTimeout(t)\n    try {\n      Typekit.load(config)\n    } catch (e) {}\n  }\n  s.parentNode.insertBefore(tk, s)\n})(document)\n```\n\n作成した`typekit.js`をグローバルに読み込む\n\n```javascript:nuxt.config.js\nexport default {\n  ~ 省略 ~\n  plugins: [\n    { src: '~\u002Fplugins\u002Ftypekit.js', mode: 'client' }\n  ],\n  ~ 省略 ~\n}\n```\n\nここで`mode: 'client'`オプションをつけておかないと、SSR時に**「documentが見つからないよ！」**となるので注意。\n\n\n# おしまい\n有料だし、あんまりAdobe Fontsを使うことはないかもしれないけどAdobe CC契約している人はぜひ。\n",coediting:b,comments_count:d,created_at:o,group:a,id:"a03f64ff1c649ee64517",likes_count:4,private:b,reactions_count:d,tags:[{name:l,versions:[]},{name:"TypeScript",versions:[]},{name:"Vue.js",versions:[]},{name:"typekit",versions:[]},{name:"nuxt.js",versions:[]}],title:"Nuxt.jsでAdobe Fonts（TypeKit）を使う",updated_at:o,url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002Fa03f64ff1c649ee64517",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a},{rendered_body:"\n\u003Ch2\u003E\n\u003Cspan id=\"なんで標準でグラデーション機能ついてないの\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%AA%E3%82%93%E3%81%A7%E6%A8%99%E6%BA%96%E3%81%A7%E3%82%B0%E3%83%A9%E3%83%87%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E6%A9%9F%E8%83%BD%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AA%E3%81%84%E3%81%AE\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eなんで標準でグラデーション機能ついてないの！！！\u003C\u002Fh2\u003E\n\n\u003Cp\u003E冒頭から大声ですみません。普段IllustratorやVSCodeでのGUIお手軽デザインに甘やかされてるので、グラデーションを実装するためにコーディングするのが不満でしょうがなかったのです。\u003Cbr\u003E\nで、\u003Cdel\u003EApple様に訴えるため\u003C\u002Fdel\u003E 学びの整理とみなさまへの共有のため記事化します。\u003C\u002Fp\u003E\n\n\u003Cp\u003E初学者ゆえ、不適切な表現やコードがあるかと思います。その際は優しくご指導いただけますと幸いです。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"まずはgoogleで先人の知恵を探す\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%BE%E3%81%9A%E3%81%AFgoogle%E3%81%A7%E5%85%88%E4%BA%BA%E3%81%AE%E7%9F%A5%E6%81%B5%E3%82%92%E6%8E%A2%E3%81%99\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EまずはGoogleで先人の知恵を探す\u003C\u002Fh2\u003E\n\n\u003Cp\u003Etechno monkey様の記事を参考に、コメントで解説をつけながらやってみる。\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Ftechno-monkey.com\u002Fswift-uiview-gradation-iphoneapp\u002F\" rel=\"nofollow noopener\" target=\"_blank\"\u003ESwift UIViewの背景をグラデーションさせる方法　-iPhoneアプリ開発-\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EViewController.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIKit\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EViewController\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIViewController\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EviewDidLoad\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Esuper\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EviewDidLoad\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションレイヤーを用意\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EgradientLayer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECAGradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eframe\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eview\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebounds\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F gradientLayerのサイズを指定？\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションさせる色の指定\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecolor1\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eorange\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcgColor\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F オレンジ\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecolor2\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ered\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcgColor\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 赤\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F CAGradientLayerに色を設定（ここでたくさん色を指定することも可能？）\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecolors\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecolor1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecolor2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションの開始点、終了点を設定（0~1）\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EstartPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 画面上中央\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EendPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F 画面下中央\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F ViewControllerの親Viewレイヤーにグラデレイヤーを挿入する\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eview\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Elayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EinsertSublayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Eat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F2e93c85e1ddcc876ba093fc4740061689bde8e22\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f65366131303736352d386338312d333366382d323961322d3639356637386666393462372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fe6a10765-8c81-33f8-29a2-695f78ff94b7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=60066ef69a74c19813cb613efb36d719\" width=\"40%\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fe6a10765-8c81-33f8-29a2-695f78ff94b7.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fe6a10765-8c81-33f8-29a2-695f78ff94b7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3a3365f8543d6f64e3492404ce12d830 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\nいい感じ。とっても綺麗なグラデーションの出来上がり。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"ちゃうねんstoryboardでリアルタイムに確認したいねん\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%A1%E3%82%83%E3%81%86%E3%81%AD%E3%82%93storyboard%E3%81%A7%E3%83%AA%E3%82%A2%E3%83%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%81%AB%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%9F%E3%81%84%E3%81%AD%E3%82%93\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eちゃうねん、StoryBoardでリアルタイムに確認したいねん\u003C\u002Fh2\u003E\n\n\u003Cp\u003Eこれで要件は満たしているけれども、この実装方法だと\u003Cstrong\u003EStoryBoardではグラデーションがプレビューされない。\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\u003Cstrong\u003EStoryBoardで背景との兼ね合いを考えながら文字色やボタンの配置を行いたい。\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"ibdesignableね\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#ibdesignable%E3%81%AD\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E@IBDesignableね\u003C\u002Fh2\u003E\n\n\u003Cp\u003ESwiftには@IBDesignableと@IBInspectableという、StoryBoardのGUI上で設定できる項目を増やす方法が用意されているらしい。\u003Cbr\u003E\nなるほどね、これでGUIでのカスタマイズ機能が追加し放題というわけだ。さすがApple様。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"早速やってみる\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E6%97%A9%E9%80%9F%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E早速やってみる！\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ccode\u003EFile -&gt; New -&gt; File...\u003C\u002Fcode\u003Eで新しいSwiftファイルを作成する。ここではGradient.swiftと命名（←こういうファイル名はどんな規則に則って決めれば良いのだろう）。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"swift\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EGradient.swift\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIKit\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003E@IBDesignable\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Efinal\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EGradientView\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIView\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"kd\"\u003E@IBInspectable\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EColor1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eorange\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003E@IBInspectable\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EColor2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EUIColor\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ered\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"kd\"\u003E@IBInspectable\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EPosition1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003E@IBInspectable\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Evar\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EPosition2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGPoint\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nv\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F 実際の描画\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Efunc\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Edraw\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003E_\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Erect\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECGRect\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションレイヤーを用意\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003EgradientLayer\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003ECAGradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F gradientLayerのサイズを指定\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eframe\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebounds\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションさせる色の指定\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecolor1\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EColor1\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcgColor\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Ecolor2\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EColor2\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EcgColor\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F CAGradientLayerに色を設定（ここでたくさん色を指定することも可能？）\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecolors\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecolor1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecolor2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F グラデーションの開始点、終了点を設定（0~1）\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EstartPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EPosition1\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EendPoint\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003EPosition2\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E\u002F\u002F ViewControllerの親Viewレイヤーにレイヤーを挿入する\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Elayer\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nf\"\u003EinsertSublayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EgradientLayer\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003Eat\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこれでコーディング部分は完了。\u003Ccode\u003EViewController.swift\u003C\u002Fcode\u003Eに書いたときと微妙に異なる部分があるので注意。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"storyboardにuiviewを配置\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#storyboard%E3%81%ABuiview%E3%82%92%E9%85%8D%E7%BD%AE\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EStoryBoardにUIViewを配置\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002Fd74565d914c89beb298fe7ad88b87686b1975a12\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f39313664306231632d633363622d353262622d333335392d3864323264626139323433302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F916d0b1c-c3cb-52bb-3359-8d22dba92430.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=137bc6db6d1e93e6ac597199cbf8da89\" alt=\"Screen Shot 2021-02-08 at 23.20.59.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F916d0b1c-c3cb-52bb-3359-8d22dba92430.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F916d0b1c-c3cb-52bb-3359-8d22dba92430.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b4279775aaeed1ef4525454c33d812c8 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"classを指定\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#class%E3%82%92%E6%8C%87%E5%AE%9A\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EClassを指定\u003C\u002Fh3\u003E\n\n\u003Cp\u003Eさっき配置したUIViewにClassを指定する\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F4f5af2514ce4873693401739c9eaa9aac875e81b\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f64306538303062382d613665622d326437662d373435662d6237303739366663653066342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fd0e800b8-a6eb-2d7f-745f-b70796fce0f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f6ced98ab1e565cc6364ff995613189c\" alt=\"Screen Shot 2021-02-08 at 23.23.34.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fd0e800b8-a6eb-2d7f-745f-b70796fce0f4.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fd0e800b8-a6eb-2d7f-745f-b70796fce0f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=53fb9e47afb72d3810bf18a75c77c10b 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\n正しくできていればこんな感じで入力予測が出てくる。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"完璧じゃん\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%AE%8C%E7%92%A7%E3%81%98%E3%82%83%E3%82%93\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E完璧じゃん？\u003C\u002Fh2\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F8722077e99c173789163eb7001e25e84a09d2084\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f37663035646235302d353061332d353630372d636332642d6138303439373331646362342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F7f05db50-50a3-5607-cc2d-a8049731dcb4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1992533ab8d3377c6d577a3b8e4a1b7f\" width=\"30%\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F7f05db50-50a3-5607-cc2d-a8049731dcb4.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F7f05db50-50a3-5607-cc2d-a8049731dcb4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=87ca332d6e256f88ab2df09e2d5a26ec 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003EあとはこのUIViewを画面全体に広げたり、Auto Layoutしたりして\u003Cstrong\u003E簡単にグラデーションが使える！\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"設定も自由\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E8%A8%AD%E5%AE%9A%E3%82%82%E8%87%AA%E7%94%B1\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E設定も自由\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F8661827bce958df0457c83ed7cafbc10d21e0064\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f65643330323463342d633733342d626563312d656661312d6163366563303564396664382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fed3024c4-c734-bec1-efa1-ac6ec05d9fd8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c81864e458cff7d7dd8d5cf3ea5555d0\" alt=\"Screen Shot 2021-02-08 at 23.31.48.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fed3024c4-c734-bec1-efa1-ac6ec05d9fd8.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fed3024c4-c734-bec1-efa1-ac6ec05d9fd8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=97bb23c315d446e533f012c88ebfc0c0 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\nこんな感じに設定すると\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F251ff49039942a06eaef912fe0a4570eca858fd0\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f39353337643264372d303834322d366562322d333165632d3731633139613838626361632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F9537d2d7-0842-6eb2-31ec-71c19a88bcac.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cfb6c7eebccdaddbbf9fcfe34510b654\" width=\"30%\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F9537d2d7-0842-6eb2-31ec-71c19a88bcac.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F9537d2d7-0842-6eb2-31ec-71c19a88bcac.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=06cc14436a27c5cee4be084e6f226437 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\n左上（0, 0）から右下（1, 1）にかけてグラデーションするViewができる（\u003Cstrong\u003Eリアルタイムプレビューで\u003C\u002Fstrong\u003E）。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh2\u003E\n\n\u003Cp\u003EGUIでできることはGUIでやりたいよね。\u003C\u002Fp\u003E\n",body:"## なんで標準でグラデーション機能ついてないの！！！\n\n冒頭から大声ですみません。普段IllustratorやVSCodeでのGUIお手軽デザインに甘やかされてるので、グラデーションを実装するためにコーディングするのが不満でしょうがなかったのです。\nで、~~Apple様に訴えるため~~ 学びの整理とみなさまへの共有のため記事化します。\n\n初学者ゆえ、不適切な表現やコードがあるかと思います。その際は優しくご指導いただけますと幸いです。\n\n\n## まずはGoogleで先人の知恵を探す\ntechno monkey様の記事を参考に、コメントで解説をつけながらやってみる。\n[Swift UIViewの背景をグラデーションさせる方法　-iPhoneアプリ開発-](https:\u002F\u002Ftechno-monkey.com\u002Fswift-uiview-gradation-iphoneapp\u002F)\n\n```swift:ViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        \u002F\u002F グラデーションレイヤーを用意\n        let gradientLayer = CAGradientLayer()\n        gradientLayer.frame = self.view.bounds \u002F\u002F gradientLayerのサイズを指定？\n        \n        \u002F\u002F グラデーションさせる色の指定\n        let color1 = UIColor.orange.cgColor \u002F\u002F オレンジ\n        let color2 = UIColor.red.cgColor \u002F\u002F 赤\n        \n        \u002F\u002F CAGradientLayerに色を設定（ここでたくさん色を指定することも可能？）\n        gradientLayer.colors = [color1, color2]\n        \n        \u002F\u002F グラデーションの開始点、終了点を設定（0~1）\n        gradientLayer.startPoint = CGPoint.init(x: 0.5, y: 0) \u002F\u002F 画面上中央\n        gradientLayer.endPoint = CGPoint.init(x: 0.5, y: 1) \u002F\u002F 画面下中央\n        \n        \u002F\u002F ViewControllerの親Viewレイヤーにグラデレイヤーを挿入する\n        self.view.layer.insertSublayer(gradientLayer, at: 0)\n    }\n\n}\n```\n\n\u003Cimg src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fe6a10765-8c81-33f8-29a2-695f78ff94b7.png\" width=40% \u002F\u003E\nいい感じ。とっても綺麗なグラデーションの出来上がり。\n\n\n\n## ちゃうねん、StoryBoardでリアルタイムに確認したいねん\n\nこれで要件は満たしているけれども、この実装方法だと**StoryBoardではグラデーションがプレビューされない。**\n**StoryBoardで背景との兼ね合いを考えながら文字色やボタンの配置を行いたい。**\n\n## \u003Cspan\u003E@\u003C\u002Fspan\u003EIBDesignableね\nSwiftには\u003Cspan\u003E@\u003C\u002Fspan\u003EIBDesignableと\u003Cspan\u003E@\u003C\u002Fspan\u003EIBInspectableという、StoryBoardのGUI上で設定できる項目を増やす方法が用意されているらしい。\nなるほどね、これでGUIでのカスタマイズ機能が追加し放題というわけだ。さすがApple様。\n### 早速やってみる！\n\n`File -\u003E New -\u003E File...`で新しいSwiftファイルを作成する。ここではGradient.swiftと命名（←こういうファイル名はどんな規則に則って決めれば良いのだろう）。\n\n```swift:Gradient.swift\nimport UIKit\n\n@IBDesignable\nfinal class GradientView: UIView {\n    \n    @IBInspectable var Color1: UIColor = UIColor.orange\n    @IBInspectable var Color2: UIColor = UIColor.red\n    \n    @IBInspectable var Position1: CGPoint = CGPoint.init(x: 0.5, y: 0)\n    @IBInspectable var Position2: CGPoint = CGPoint.init(x: 0.5, y: 1)\n    \n    \u002F\u002F 実際の描画\n    override func draw(_ rect: CGRect) {\n        \u002F\u002F グラデーションレイヤーを用意\n        let gradientLayer = CAGradientLayer()\n        \u002F\u002F gradientLayerのサイズを指定\n        gradientLayer.frame = self.bounds\n        \n        \u002F\u002F グラデーションさせる色の指定\n        let color1 = Color1.cgColor\n        let color2 = Color2.cgColor\n        \n        \u002F\u002F CAGradientLayerに色を設定（ここでたくさん色を指定することも可能？）\n        gradientLayer.colors = [color1, color2]\n        \n        \u002F\u002F グラデーションの開始点、終了点を設定（0~1）\n        gradientLayer.startPoint = Position1\n        gradientLayer.endPoint = Position2\n        \n        \u002F\u002F ViewControllerの親Viewレイヤーにレイヤーを挿入する\n        self.layer.insertSublayer(gradientLayer, at: 0)\n    }\n    \n}\n```\nこれでコーディング部分は完了。`ViewController.swift`に書いたときと微妙に異なる部分があるので注意。\n\n### StoryBoardにUIViewを配置\n![Screen Shot 2021-02-08 at 23.20.59.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F916d0b1c-c3cb-52bb-3359-8d22dba92430.png)\n\n### Classを指定\nさっき配置したUIViewにClassを指定する\n![Screen Shot 2021-02-08 at 23.23.34.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fd0e800b8-a6eb-2d7f-745f-b70796fce0f4.png)\n正しくできていればこんな感じで入力予測が出てくる。\n\n## 完璧じゃん？\n\u003Cimg src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F7f05db50-50a3-5607-cc2d-a8049731dcb4.png\" width=30% \u002F\u003E\n\nあとはこのUIViewを画面全体に広げたり、Auto Layoutしたりして**簡単にグラデーションが使える！**\n\n### 設定も自由\n![Screen Shot 2021-02-08 at 23.31.48.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fed3024c4-c734-bec1-efa1-ac6ec05d9fd8.png)\nこんな感じに設定すると\n\n\u003Cimg src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F9537d2d7-0842-6eb2-31ec-71c19a88bcac.png\" width=30% \u002F\u003E\n左上（0, 0）から右下（1, 1）にかけてグラデーションするViewができる（**リアルタイムプレビューで**）。\n\n\n## おしまい\n\nGUIでできることはGUIでやりたいよね。\n",coediting:b,comments_count:d,created_at:"2021-02-08T23:39:09+09:00",group:a,id:"a911e440a3270cd65ee3",likes_count:3,private:b,reactions_count:d,tags:[{name:j,versions:[]},{name:k,versions:[]}],title:"【Swift5】リアルタイムグラデーション背景を実装する【IBDesignable】【IBInspectable】",updated_at:"2021-02-08T23:40:52+09:00",url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002Fa911e440a3270cd65ee3",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a},{rendered_body:"\u003Cp\u003E検索したら意外とヒット少なかったので記事化\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E初学者ゆえ適切でないコードや表現があるかと思います。その際は優しくご指導いただけますと幸いです。\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"開発環境\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E開発環境\u003C\u002Fh2\u003E\n\n\u003Cul\u003E\n\u003Cli\u003EmacOS Catalina 10.15.7\u003C\u002Fli\u003E\n\u003Cli\u003EDocker 20.10.2\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"作業ディレクトリ作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E4%BD%9C%E6%A5%AD%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E作業ディレクトリ作成\u003C\u002Fh2\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"nb\"\u003Emkdir \u003C\u002Fspan\u003Ehoge\u002Fapp\n\u003Cspan class=\"nb\"\u003Ecd \u003C\u002Fspan\u003Eapp\nnpm init\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E適当な場所に作業ディレクトリを作成&amp;\u003Ccode\u003Enpm init\u003C\u002Fcode\u003E\u003Cbr\u003E\npackage nameとかは適当なものを選択。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"serverjs作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#serverjs%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eserver.js作成\u003C\u002Fh2\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"nb\"\u003Etouch \u003C\u002Fspan\u003Eserver.js\nnpm i \u003Cspan class=\"nt\"\u003E--save\u003C\u002Fspan\u003E express\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Eserver.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esend\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EHello World!\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elisten\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E9000\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EThe app listening on port 5000\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"nodemon設定\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#nodemon%E8%A8%AD%E5%AE%9A\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Enodemon設定\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ccode\u003Enode server.js\u003C\u002Fcode\u003Eだとserver.jsを書き換えるたびに再起動しなければならないため、nodemonを設定しておく。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Enpm i \u003Cspan class=\"nt\"\u003E--save\u003C\u002Fspan\u003E nodemon\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"json\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Epackage.json\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"scripts\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"start\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"nodemon server.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"nodejsのイメージを作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#nodejs%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Enode.jsのイメージを作成\u003C\u002Fh2\u003E\n\n\u003Cp\u003Enode.jsの\u003Ca href=\"https:\u002F\u002Fnodejs.org\u002Fja\u002Fdocs\u002Fguides\u002Fnodejs-docker-webapp\u002F\" rel=\"nofollow noopener\" target=\"_blank\"\u003E公式ドキュメント\u003C\u002Fa\u003Eを参考にコンテナを作成する。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"dockerfile編集\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#dockerfile%E7%B7%A8%E9%9B%86\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EDockerfile編集\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"nb\"\u003Ecd\u003C\u002Fspan\u003E ..（appからhogeへ移動）\n\u003Cspan class=\"nb\"\u003Etouch \u003C\u002Fspan\u003EDockerfile\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"dockerfile\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EDockerfile\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"c\"\u003E# ベースイメージ\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003EFROM\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E node:14.15.4\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c\"\u003E# 作業ディレクトリ\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003EWORKDIR\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E \u002Fusr\u002Fsrc\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c\"\u003E# packages.jsonを個別にコピーする理由は後述\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003ECOPY\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E\u002Fpackages*.json .\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003ERUN \u003C\u002Fspan\u003Enpm \u003Cspan class=\"nb\"\u003Einstall\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c\"\u003E# その他のファイル群もコンテナへコピー\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003ECOPY\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E \u002F .\u002F\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"k\"\u003EEXPOSE\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E 5000\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c\"\u003E# サーバースタート\u003C\u002Fspan\u003E\n\u003Cspan class=\"k\"\u003ECMD\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E [\"npm\", \"start\"]\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch4\u003E\n\u003Cspan id=\"npm_modulesをignoreする\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#npm_modules%E3%82%92ignore%E3%81%99%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Enpm_modulesをignoreする\u003C\u002Fh4\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"docker\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E.dockerignore\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Enpm_modules\nnpm-debug.log\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Enpm_modulesをコピーするのは時間がかかるのでignoreして、先述の\u003Ccode\u003Enpm install\u003C\u002Fcode\u003Eで作成する。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"現在のhogeディレクトリ構成はこんな感じ\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E7%8F%BE%E5%9C%A8%E3%81%AEhoge%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E現在のhogeディレクトリ構成はこんな感じ\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F694f65307963038c5ee5bce1c6ba2ced0e741071\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f64383265336136632d346136652d623261622d383934302d3563376637646261663063302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fd82e3a6c-4a6e-b2ab-8940-5c7f7dbaf0c0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=866034599c1bcbe6daf6dd56f8f8970a\" alt=\"Screen Shot 2021-01-23 at 1.08.26.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fd82e3a6c-4a6e-b2ab-8940-5c7f7dbaf0c0.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fd82e3a6c-4a6e-b2ab-8940-5c7f7dbaf0c0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=92243c3a4cc982adce0a7b4fe752fe18 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"buildする\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#build%E3%81%99%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Ebuildする\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Edocker build \u003Cspan class=\"nt\"\u003E-t\u003C\u002Fspan\u003E hoge\u002Fnode \u003Cspan class=\"nb\"\u003E.\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E-t: タグをつけるオプション（イメージの名前になる）\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003ESuccessfully built 英数字\nSuccessfully tagged hoge\u002Fnode:latest\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E↑こうなったらOK\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"コンテナ作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eコンテナ作成\u003C\u002Fh2\u003E\n\n\u003Cp\u003EExpress、Postgresを組み合わせたコンテナを作成していく。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"みんな大好きdocker-compose\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%BF%E3%82%93%E3%81%AA%E5%A4%A7%E5%A5%BD%E3%81%8Ddocker-compose\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eみんな大好きdocker-compose\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"nb\"\u003Etouch \u003C\u002Fspan\u003Edocker-compose.yml\n\u003Cspan class=\"nb\"\u003Etouch\u003C\u002Fspan\u003E .env\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"yml\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Edocker-compose.yml\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"na\"\u003Eversion\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003E3\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"na\"\u003Eservices\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# docker-compose up実行時に開始する関連サービス（上から順に実行）\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Edepends_on\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epostgres\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# コンテナを実行するときの元となるimage（さっき作ったやつ）\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Ehoge\u002Fnode\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# コンテナの名前\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Econtainer_name\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s\"\u003Ehoge_express-pg\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# マウントするパス（ホストの相対パス：DockerfileのWORKDIRからの絶対パス）\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.\u002Fapp:\u002Fusr\u002Fsrc\u002Fapp\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# ホストマシンにつなげるポート（ホスト：コンテナ）\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E5000:9000\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# 環境変数\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eenv_file\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.env\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# コンテナの永続化\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Etty\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"no\"\u003Etrue\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"na\"\u003Epostgres\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epostgres:13-alpine\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Econtainer_name\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epostgres\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E5432:5432\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.\u002Fpostgres\u002Finit:\u002Fdocker-entrypoint-initdb.d\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eenv_file\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.env\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Ehostname\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epostgres\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E# rootにしないとあとで「権限ないで」って言われる\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Euser\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Eroot\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E# ブラウザでdbを確認できるすごいヤツ（任意）\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Epgadmin4\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Edpage\u002Fpgadmin4:4.20\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Econtainer_name\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epgadmin4\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Edepends_on\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epostgres\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eports\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E80:80\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Evolumes\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"pi\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.\u002Fpgadmin:\u002Fvar\u002Flib\u002Fpgadmin\u002Fstorage\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Eenv_file\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E.env\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Ehostname\u003C\u002Fspan\u003E\u003Cspan class=\"pi\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003Epgadmin4\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Evolumesに指定したパスはホストマシンとコンテナとでファイルが共有されて便利。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"env\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E.env\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003EPOSTGRES_USER=hoge\nPOSTGRES_PASSWORD=hoge\nPOSTGRES_INITDB_ARGS=--encoding=UTF-8\n\nTZ=Asia\u002FTokyo\n\nPGADMIN_DEFAULT_EMAIL=root\nPGADMIN_DEFAULT_PASSWORD=root\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EPOSTGRES_~: \u003Cstrong\u003Edbのログイン情報と設定\u003C\u002Fstrong\u003E\u003Cbr\u003E\nTZ: \u003Cstrong\u003ETimeZone\u003C\u002Fstrong\u003E\u003Cbr\u003E\nPGADMIN_DEFAULT_~: \u003Cstrong\u003EpgAdmin4のログイン情報\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"動作確認\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E動作確認\u003C\u002Fh2\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Edocker-compose up\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Epostgres  | 2021-01-23 01:24:24.380 JST \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E1] LOG:  database system is ready to accept connections\n~\nhoge_express-pg | \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003Enodemon] starting \u003Cspan class=\"sb\"\u003E`\u003C\u002Fspan\u003Enode server.js\u003Cspan class=\"sb\"\u003E`\u003C\u002Fspan\u003E\nhoge_express-pg | The app listening on port 5000\n~\npgadmin4  | \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E2021-01-22 16:24:29 +0000] \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003E1] \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003EINFO] Listening at: http:\u002F\u002F[::]:80\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Eこんな感じに３つのコンテナの起動が確認できたらOK。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"ブラウザ\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eブラウザ\u003C\u002Fh3\u003E\n\n\u003Cp\u003Eブラウザでlocalhost:5000にアクセスするとHello World!できる。\u003Cbr\u003E\n\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002Fbb9b83f03f596dca4d2a65cb5d6ebbc746cf3f78\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f64616665663838622d663832652d343864342d656330382d3735346530313630613533372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fdafef88b-f82e-48d4-ec08-754e0160a537.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2638df45961f5492e2b9b6b8c72df15a\" alt=\"Screen Shot 2021-01-23 at 1.27.45.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fdafef88b-f82e-48d4-ec08-754e0160a537.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2Fdafef88b-f82e-48d4-ec08-754e0160a537.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f7b06edcb329765cad09b028e6f0f3ee 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"db作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#db%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Edb作成\u003C\u002Fh2\u003E\n\n\u003Cp\u003E\u003Ccode\u003ECtrl+C\u003C\u002Fcode\u003Eで一度コンテナを終了し、自動生成された\u003Ccode\u003Epostgres\u002Finit\u003C\u002Fcode\u003EフォルダにSQLファイルを追加する。\u003Cbr\u003E\nここに配置されたSQLはコンテナ開始時に実行されるので、db作成の他、初期データの設定にも便利。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003ETerminal\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"nb\"\u003Etouch \u003C\u002Fspan\u003Epostgres\u002Finit\u002Ftemplate.sql\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"sql\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Epostgres\u002Finit\u002Ftemplate.sql\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"k\"\u003ECREATE\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003EDATABASE\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Edevelopment\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E作成したらもう一度\u003Ccode\u003Edocker-compose up\u003C\u002Fcode\u003Eしておく。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"pgadmin4初期設定任意\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#pgadmin4%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A%E4%BB%BB%E6%84%8F\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EpgAdmin4初期設定（任意）\u003C\u002Fh2\u003E\n\n\u003Cp\u003Eブラウザで\u003Ccode\u003Elocalhost:80\u003C\u002Fcode\u003Eにアクセス\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F866e0b063782fa73bf97c14f8eb79bcfec165b16\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f39336135373039632d353137332d313630332d346532362d3039323238613062383730652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F93a5709c-5173-1603-4e26-09228a0b870e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a4edb584b2b6d9eebcf7bc1cc8b56311\" alt=\"Screen Shot 2021-01-23 at 2.02.39.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F93a5709c-5173-1603-4e26-09228a0b870e.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F93a5709c-5173-1603-4e26-09228a0b870e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f71e246bf1e04254aa091629c536bbdb 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003Eこんな感じの画面が出るので、\u003Ccode\u003E.env\u003C\u002Fcode\u003Eで設定したユーザー名とパスワードでログイン。\u003C\u002Fp\u003E\n\n\u003Cp\u003Eちなみに、dpage\u002FpgAdmin4:4は何故かこの段階でログインできない不具合があるようです（\u003Cdel\u003Eこれに気づくのに一晩費やした\u003C\u002Fdel\u003E）。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"サーバー追加\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%BF%BD%E5%8A%A0\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eサーバー追加\u003C\u002Fh3\u003E\n\n\u003Cp\u003Eログインしたら\u003Ccode\u003EAdd New Server\u003C\u002Fcode\u003Eの\u003Ccode\u003EConnection\u003C\u002Fcode\u003Eタブで\u003Cbr\u003E\n- Host: postgres\u003Cbr\u003E\n- Port: 5432\u003Cbr\u003E\n- Mentenance database: postgres\u003Cbr\u003E\n- Username: hoge\u003Cbr\u003E\n- Password: hoge\u003C\u002Fp\u003E\n\n\u003Cp\u003E左のサーバー一覧に\u003Ccode\u003Epostgres\u003C\u002Fcode\u003Eとその中に\u003Ccode\u003Edevelopment\u003C\u002Fcode\u003Edbが表示されればOK。\u003C\u002Fp\u003E\n\n\u003Cp\u003Eもし\u003Cstrong\u003Eコンテナ作成後に\u003Ccode\u003E.env\u003C\u002Fcode\u003Eでパスワードなどを変更した場合\u003C\u002Fstrong\u003Eは一度コンテナを削除してから再度接続を行う必要があるので注意。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"sequelize設定\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#sequelize%E8%A8%AD%E5%AE%9A\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ESequelize設定\u003C\u002Fh2\u003E\n\n\u003Cp\u003Eここからはコンテナ内で作業する（けどvolumesで共有されているのでほとんどの作業はホスト側でやっても平気←\u003Cdel\u003EDocker使う意味は？？\u003C\u002Fdel\u003E）\u003Cbr\u003E\n\u003Cstrong\u003EVSCodeでDockerの拡張機能\u003C\u002Fstrong\u003Eを入れてると、ここから簡単にコンテナのbashを起動できる\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F2ea58e1cb10d25785c6a1dba3ae6d301631b8903\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f39663134323837342d336139342d326564632d363161382d3161663031646537366637652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F9f142874-3a94-2edc-61a8-1af01de76f7e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d7a9137426436cebce9ff1b00140f244\" alt=\"Screen Shot 2021-01-23 at 1.30.34.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F9f142874-3a94-2edc-61a8-1af01de76f7e.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F9f142874-3a94-2edc-61a8-1af01de76f7e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7a3c53aa448d5ce58e55cfadf11c648b 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"各種パッケージインストールsequelize初期設定\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E5%90%84%E7%A8%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%ABsequelize%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E各種パッケージインストール＆Sequelize初期設定\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E\u002Fusr\u002Fsrc\u002Fapp#\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Enpm i \u003Cspan class=\"nt\"\u003E--save\u003C\u002Fspan\u003E sequelize sequelize-cli pg\nnpx sequelize-cli init\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ccode\u003Enpx sequelize-cli init\u003C\u002Fcode\u003Eをすると、\u003Ccode\u003Econfig\u003C\u002Fcode\u003E, \u003Ccode\u003Emodels\u003C\u002Fcode\u003E, \u003Ccode\u003Emigrations\u003C\u002Fcode\u003E, \u003Ccode\u003Eseeders\u003C\u002Fcode\u003Eフォルダが作成される\u003C\u002Fp\u003E\n\n\u003Cp\u003Eこのディレクトリ名を見てわかるように、Sequelizeは\u003Cstrong\u003ERubyのActiveRecordのように\u003C\u002Fstrong\u003EdbのマイグレーションがJSでできるようになるスグレもの\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"configjson変更\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#configjson%E5%A4%89%E6%9B%B4\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Econfig.json変更\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"json\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E\u002Fapp\u002Fconfig\u002Fconfig.json\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"development\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"username\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"hoge\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E←.envで設定したdbのログイン情報\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"password\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"hoge\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"database\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"development\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E←dbの名前\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"host\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"postgres\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"dialect\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\"postgres\"\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"test\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E省略\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003E\"production\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n    \u003C\u002Fspan\u003E\u003Cspan class=\"err\"\u003E省略\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003EこれでSequelizeの設定は完了。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"sequelizeでdbへアクセス\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#sequelize%E3%81%A7db%E3%81%B8%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ESequelizeでdbへアクセス\u003C\u002Fh2\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"modelを作成\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#model%E3%82%92%E4%BD%9C%E6%88%90\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Emodelを作成\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E\u002Fusr\u002Fsrc\u002Fapp#\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Enpx sequelize-cli model:generate \u003Cspan class=\"nt\"\u003E--name\u003C\u002Fspan\u003E Post \u003Cspan class=\"nt\"\u003E--attributes\u003C\u002Fspan\u003E title:string,body:string\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E--name: model名\u003Cbr\u003E\n--attributes: modelが保有する属性（カラム）\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ccode\u003Emigrations\u002F日付-create-post\u003C\u002Fcode\u003E、\u003Ccode\u003Emodels\u002Fpost.js\u003C\u002Fcode\u003Eの２つが自動生成されているのを確認する。\u003C\u002Fp\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Emigrations\u002F20210123053140-create-post\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Euse strict\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Eup\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EqueryInterface\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EqueryInterface\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EcreateTable\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EPosts\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003EallowNull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003EautoIncrement\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003EprimaryKey\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EINTEGER\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ESTRING\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ESTRING\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EcreatedAt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003EallowNull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EDATE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EupdatedAt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003EallowNull\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003Efalse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"na\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EDATE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n  \u003Cspan class=\"na\"\u003Edown\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EqueryInterface\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003ESequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EqueryInterface\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EdropTable\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EPosts\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E};\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Emodels\u002Fpost.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Euse strict\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EModel\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Esequelize\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Emodule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EDataTypes\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kd\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Eextends\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EModel\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"cm\"\u003E\u002F**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models\u002Findex` file will call this method automatically.\n     *\u002F\u003C\u002Fspan\u003E\n    \u003Cspan class=\"kd\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eassociate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F define association here\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Einit\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EDataTypes\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ESTRING\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EDataTypes\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003ESTRING\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E},\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"nx\"\u003Esequelize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"na\"\u003EmodelName\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E};\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"マイグレーション\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eマイグレーション\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E\u002Fusr\u002Fsrc\u002Fapp#\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003Enpx sequelize-cli db:migrate\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"bash\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003E\u002Fusr\u002Fsrc\u002Fapp#\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E Sequelize CLI \u003Cspan class=\"o\"\u003E[\u003C\u002Fspan\u003ENode: 14.15.4, CLI: 6.2.0, ORM: 6.4.0]\n\n\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E Loaded configuration file \u003Cspan class=\"s2\"\u003E\"config\u002Fconfig.json\"\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003E.\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E Using environment \u003Cspan class=\"s2\"\u003E\"development\"\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003E.\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E 20210123053140-create-post: migrating \u003Cspan class=\"o\"\u003E=======\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E 20210123053140-create-post: migrated \u003Cspan class=\"o\"\u003E(\u003C\u002Fspan\u003E0.022s\u003Cspan class=\"o\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ccode\u003Emigrated\u003C\u002Fcode\u003EとなればOK。\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"expressからdbをさわってみる\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#express%E3%81%8B%E3%82%89db%E3%82%92%E3%81%95%E3%82%8F%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EExpressからdbをさわってみる\u003C\u002Fh2\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"create\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#create\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ECreate\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Eserver.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E.\u002Fmodels\u002Findex\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esend\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EHello World!\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F createして\u002Fへリダイレクトする\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002Fcreate\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"k\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecreate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E     \u003Cspan class=\"na\"\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Esample title\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E     \u003Cspan class=\"na\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Esample body\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eredirect\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elisten\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E9000\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EThe app listening on port 5000\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003Emodelsをrequireするとき、\u003Ccode\u003E.\u002Fmodels\u002F\u003C\u002Fcode\u003Eだと\u003Cstrong\u003E失敗\u003C\u002Fstrong\u003Eするので注意。\u003C\u002Fp\u003E\n\n\u003Ch4\u003E\n\u003Cspan id=\"アクセス\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eアクセス\u003C\u002Fh4\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"http\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EChrome\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"err\"\u003Elocalhost:5000\u002Fcreate\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch4\u003E\n\u003Cspan id=\"pgadminで確認\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#pgadmin%E3%81%A7%E7%A2%BA%E8%AA%8D\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003EpgAdminで確認\u003C\u002Fh4\u003E\n\n\u003Cp\u003E\u003Ccode\u003EServers\u002Fpostgres\u002FDatabases\u002Fdevelopment\u002FSchemas\u002Fpublic\u002FTables\u002F\u003C\u002Fcode\u003Eの中の先ほど生成したモデル名のテーブルを右クリックし、\u003Ccode\u003EView\u002FEdit Data-&gt;All Rows\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002Feed3f2965661c14843aef61fe74370937721dbf7\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f38326437303333612d396632372d353238342d313837662d3333383336346132323463652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F82d7033a-9f27-5284-187f-338364a224ce.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2de77fbe24257025164f8a705ff7e350\" alt=\"Screen Shot 2021-01-23 at 14.56.26.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F82d7033a-9f27-5284-187f-338364a224ce.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F82d7033a-9f27-5284-187f-338364a224ce.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0a67ede298e941f1f0df0c11b6605831 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003E\u003Ccode\u003EData Output\u003C\u002Fcode\u003EタブでデータがCreateされているのが確認できる。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"read\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#read\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003ERead\u003C\u002Fh3\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"js\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003Eserver.js\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eexpress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"kd\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E.\u002Fmodels\u002Findex\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F 全て取得して返す\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EfindAll\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E().\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ethen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E((\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eposts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E     \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Esend\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eposts\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E   \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E   \u003Cspan class=\"c1\"\u003E\u002F\u002F   res.send(\"Hello World!\");\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F createして\u002Fへリダイレクトする\u003C\u002Fspan\u003E\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"kd\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002Fcreate\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ereq\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Emodels\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003EPost\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Ecreate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E({\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Esample title\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"na\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003Esample body\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Eres\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Eredirect\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"nx\"\u003Eapp\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elisten\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E9000\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"nx\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"nx\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003EThe app listening on port 5000\u003C\u002Fspan\u003E\u003Cspan class=\"dl\"\u003E\"\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E});\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch4\u003E\n\u003Cspan id=\"アクセス-1\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9-1\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eアクセス\u003C\u002Fh4\u003E\n\n\u003Cdiv class=\"code-frame\" data-lang=\"http\"\u003E\n\u003Cdiv class=\"code-lang\"\u003E\u003Cspan class=\"bold\"\u003EChrome\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"highlight\"\u003E\u003Cpre class=\"with-code\"\u003E\u003Ccode\u003E\u003Cspan class=\"err\"\u003Elocalhost:5000\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcamo.qiitausercontent.com\u002F8c4b13abcfe5378be67d8fb2657d22ac65e7e10f\u002F68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3633363838392f31326361353733372d396234662d383238362d393965382d6436613033366532313538652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003E\u003Cimg src=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F12ca5737-9b4f-8286-99e8-d6a036e2158e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cb3c4f460691eab675ea03fec3e0a918\" alt=\"Screen Shot 2021-01-23 at 15.00.58.png\" data-canonical-src=\"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F12ca5737-9b4f-8286-99e8-d6a036e2158e.png\" srcset=\"https:\u002F\u002Fqiita-user-contents.imgix.net\u002Fhttps%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F636889%2F12ca5737-9b4f-8286-99e8-d6a036e2158e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5cb59288a30c901f19f1d2adcb3d3235 1x\" loading=\"lazy\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\u003Cp\u003E無事に取得できているのが確認できた！\u003C\u002Fp\u003E\n\n\u003Ch2\u003E\n\u003Cspan id=\"おしまい\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E3%81%8A%E3%81%97%E3%81%BE%E3%81%84\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003Eおしまい\u003C\u002Fh2\u003E\n\n\u003Cp\u003Eあとは\u003Ccode\u003Eejs\u003C\u002Fcode\u003Eを入れたりしてviewを整形したり、\u003Ccode\u003EbodyParser\u003C\u002Fcode\u003EでFormデータを受け取ったりすればサービスとして本格的な開発が進められる。\u003C\u002Fp\u003E\n\n\u003Ch3\u003E\n\u003Cspan id=\"今回のコード\" class=\"fragment\"\u003E\u003C\u002Fspan\u003E\u003Ca href=\"#%E4%BB%8A%E5%9B%9E%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89\"\u003E\u003Ci class=\"fa fa-link\"\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E今回のコード\u003C\u002Fh3\u003E\n\n\u003Cp\u003E\u003Cqiita-embed-ogp src=\"https:\u002F\u002Fgithub.com\u002Fnullworkbench\u002Fdocker-express-postgresql-sequelize\"\u003E\u003C\u002Fqiita-embed-ogp\u003E\u003C\u002Fp\u003E\n",body:"検索したら意外とヒット少なかったので記事化\n\n**初学者ゆえ適切でないコードや表現があるかと思います。その際は優しくご指導いただけますと幸いです。**\n\n## 開発環境\n- macOS Catalina 10.15.7\n- Docker 20.10.2\n\n## 作業ディレクトリ作成\n```zsh:Terminal\nmkdir hoge\u002Fapp\ncd app\nnpm init\n```\n適当な場所に作業ディレクトリを作成&`npm init`\npackage nameとかは適当なものを選択。\n\n\n\n## server.js作成\n```zsh:Terminal\ntouch server.js\nnpm i --save express\n```\n```js:server.js\nconst express = require(\"express\");\nconst app = express();\n\napp.get(\"\u002F\", (req, res) =\u003E {\n  res.send(\"Hello World!\");\n});\n\napp.listen(9000, () =\u003E {\n  console.log(\"The app listening on port 5000\");\n});\n\n```\n\n### nodemon設定\n`node server.js`だとserver.jsを書き換えるたびに再起動しなければならないため、nodemonを設定しておく。\n\n```zsh:Terminal\nnpm i --save nodemon\n```\n```json:package.json\n  \"scripts\": {\n    \"start\": \"nodemon server.js\"\n  }\n```\n\n\n\n## node.jsのイメージを作成\nnode.jsの[公式ドキュメント](https:\u002F\u002Fnodejs.org\u002Fja\u002Fdocs\u002Fguides\u002Fnodejs-docker-webapp\u002F)を参考にコンテナを作成する。\n\n### Dockerfile編集\n```zsh:Terminal\ncd ..（appからhogeへ移動）\ntouch Dockerfile\n```\n```dockerfile:Dockerfile\n# ベースイメージ\nFROM node:14.15.4\n\n# 作業ディレクトリ\nWORKDIR \u002Fusr\u002Fsrc\n\n# packages.jsonを個別にコピーする理由は後述\nCOPY\u002Fpackages*.json .\u002F\nRUN npm install\n\n# その他のファイル群もコンテナへコピー\nCOPY \u002F .\u002F\n\nEXPOSE 5000\n\n# サーバースタート\nCMD [\"npm\", \"start\"]\n```\n\n#### npm_modulesをignoreする\n```docker:.dockerignore\nnpm_modules\nnpm-debug.log\n```\nnpm_modulesをコピーするのは時間がかかるのでignoreして、先述の`npm install`で作成する。\n\n### 現在のhogeディレクトリ構成はこんな感じ\n![Screen Shot 2021-01-23 at 1.08.26.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fd82e3a6c-4a6e-b2ab-8940-5c7f7dbaf0c0.png)\n\n\n\n\n### buildする\n```zsh:Terminal\ndocker build -t hoge\u002Fnode .\n```\n-t: タグをつけるオプション（イメージの名前になる）\n\n```zsh:Terminal\nSuccessfully built 英数字\nSuccessfully tagged hoge\u002Fnode:latest\n```\n↑こうなったらOK\n\n\n## コンテナ作成\nExpress、Postgresを組み合わせたコンテナを作成していく。\n\n### みんな大好きdocker-compose\n```zsh:Terminal\ntouch docker-compose.yml\ntouch .env\n```\n```yml:docker-compose.yml\nversion: \"3\"\nservices:\n  app:\n    # docker-compose up実行時に開始する関連サービス（上から順に実行）\n    depends_on:\n      - postgres\n    # コンテナを実行するときの元となるimage（さっき作ったやつ）\n    image: hoge\u002Fnode\n    # コンテナの名前\n    container_name: \"hoge_express-pg\"\n    # マウントするパス（ホストの相対パス：DockerfileのWORKDIRからの絶対パス）\n    volumes:\n      - .\u002Fapp:\u002Fusr\u002Fsrc\u002Fapp\n    # ホストマシンにつなげるポート（ホスト：コンテナ）\n    ports:\n      - 5000:9000\n    # 環境変数\n    env_file: .env\n    # コンテナの永続化\n    tty: true\n\n  postgres:\n    image: postgres:13-alpine\n    container_name: postgres\n    ports:\n      - 5432:5432\n    volumes:\n      - .\u002Fpostgres\u002Finit:\u002Fdocker-entrypoint-initdb.d\n    env_file: .env\n    hostname: postgres\n    # rootにしないとあとで「権限ないで」って言われる\n    user: root\n\n  # ブラウザでdbを確認できるすごいヤツ（任意）\n  pgadmin4:\n    image: dpage\u002Fpgadmin4:4.20\n    container_name: pgadmin4\n    depends_on:\n      - postgres\n    ports:\n      - 80:80\n    volumes:\n      - .\u002Fpgadmin:\u002Fvar\u002Flib\u002Fpgadmin\u002Fstorage\n    env_file: .env\n    hostname: pgadmin4\n```\nvolumesに指定したパスはホストマシンとコンテナとでファイルが共有されて便利。\n\n```env:.env\nPOSTGRES_USER=hoge\nPOSTGRES_PASSWORD=hoge\nPOSTGRES_INITDB_ARGS=--encoding=UTF-8\n\nTZ=Asia\u002FTokyo\n\nPGADMIN_DEFAULT_EMAIL=root\nPGADMIN_DEFAULT_PASSWORD=root\n```\nPOSTGRES_~: **dbのログイン情報と設定**\nTZ: **TimeZone**\nPGADMIN_DEFAULT_~: **pgAdmin4のログイン情報**\n\n\n## 動作確認\n```zsh:Terminal\ndocker-compose up\n```\n\n```zsh:Terminal\npostgres  | 2021-01-23 01:24:24.380 JST [1] LOG:  database system is ready to accept connections\n~\nhoge_express-pg | [nodemon] starting `node server.js`\nhoge_express-pg | The app listening on port 5000\n~\npgadmin4  | [2021-01-22 16:24:29 +0000] [1] [INFO] Listening at: http:\u002F\u002F[::]:80\n```\nこんな感じに３つのコンテナの起動が確認できたらOK。\n\n### ブラウザ\nブラウザでlocalhost:5000にアクセスするとHello World!できる。\n![Screen Shot 2021-01-23 at 1.27.45.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fdafef88b-f82e-48d4-ec08-754e0160a537.png)\n\n\n## db作成\n`Ctrl+C`で一度コンテナを終了し、自動生成された`postgres\u002Finit`フォルダにSQLファイルを追加する。\nここに配置されたSQLはコンテナ開始時に実行されるので、db作成の他、初期データの設定にも便利。\n\n```zsh:Terminal\ntouch postgres\u002Finit\u002Ftemplate.sql\n```\n\n```sql:postgres\u002Finit\u002Ftemplate.sql\nCREATE DATABASE development\n```\n\n作成したらもう一度`docker-compose up`しておく。\n\n\n## pgAdmin4初期設定（任意）\nブラウザで`localhost:80`にアクセス\n\n![Screen Shot 2021-01-23 at 2.02.39.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F93a5709c-5173-1603-4e26-09228a0b870e.png)\n\nこんな感じの画面が出るので、`.env`で設定したユーザー名とパスワードでログイン。\n\nちなみに、dpage\u002FpgAdmin4:4は何故かこの段階でログインできない不具合があるようです（~~これに気づくのに一晩費やした~~）。\n\n### サーバー追加\n\nログインしたら`Add New Server`の`Connection`タブで\n- Host: postgres\n- Port: 5432\n- Mentenance database: postgres\n- Username: hoge\n- Password: hoge\n\n左のサーバー一覧に`postgres`とその中に`development`dbが表示されればOK。\n\nもし**コンテナ作成後に`.env`でパスワードなどを変更した場合**は一度コンテナを削除してから再度接続を行う必要があるので注意。\n\n\n\n## Sequelize設定\nここからはコンテナ内で作業する（けどvolumesで共有されているのでほとんどの作業はホスト側でやっても平気←~~Docker使う意味は？？~~）\n**VSCodeでDockerの拡張機能**を入れてると、ここから簡単にコンテナのbashを起動できる\n\n![Screen Shot 2021-01-23 at 1.30.34.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F9f142874-3a94-2edc-61a8-1af01de76f7e.png)\n\n### 各種パッケージインストール＆Sequelize初期設定\n```bash:\u002Fusr\u002Fsrc\u002Fapp#\nnpm i --save sequelize sequelize-cli pg\nnpx sequelize-cli init\n```\n`npx sequelize-cli init`をすると、`config`, `models`, `migrations`, `seeders`フォルダが作成される\n\nこのディレクトリ名を見てわかるように、Sequelizeは**RubyのActiveRecordのように**dbのマイグレーションがJSでできるようになるスグレもの\n\n### config.json変更\n```json:\u002Fapp\u002Fconfig\u002Fconfig.json\n{\n  \"development\": {\n    \"username\": \"hoge\", ←.envで設定したdbのログイン情報\n    \"password\": \"hoge\",\n    \"database\": \"development\", ←dbの名前\n    \"host\": \"postgres\",\n    \"dialect\": \"postgres\"\n  },\n  \"test\": {\n    省略\n  },\n  \"production\": {\n    省略\n  }\n}\n```\n\nこれでSequelizeの設定は完了。\n\n\n\n## Sequelizeでdbへアクセス\n\n### modelを作成\n```bash:\u002Fusr\u002Fsrc\u002Fapp#\nnpx sequelize-cli model:generate --name Post --attributes title:string,body:string\n```\n--name: model名\n--attributes: modelが保有する属性（カラム）\n\n`migrations\u002F日付-create-post`、`models\u002Fpost.js`の２つが自動生成されているのを確認する。\n\n```js:migrations\u002F20210123053140-create-post\n\"use strict\";\nmodule.exports = {\n  up: async (queryInterface, Sequelize) =\u003E {\n    await queryInterface.createTable(\"Posts\", {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER,\n      },\n      title: {\n        type: Sequelize.STRING,\n      },\n      body: {\n        type: Sequelize.STRING,\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n    });\n  },\n  down: async (queryInterface, Sequelize) =\u003E {\n    await queryInterface.dropTable(\"Posts\");\n  },\n};\n```\n```js:models\u002Fpost.js\n\"use strict\";\nconst { Model } = require(\"sequelize\");\nmodule.exports = (sequelize, DataTypes) =\u003E {\n  class Post extends Model {\n    \u002F**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models\u002Findex` file will call this method automatically.\n     *\u002F\n    static associate(models) {\n      \u002F\u002F define association here\n    }\n  }\n  Post.init(\n    {\n      title: DataTypes.STRING,\n      body: DataTypes.STRING,\n    },\n    {\n      sequelize,\n      modelName: \"Post\",\n    }\n  );\n  return Post;\n};\n```\n\n### マイグレーション\n```bash:\u002Fusr\u002Fsrc\u002Fapp#\nnpx sequelize-cli db:migrate\n```\n\n```bash:\u002Fusr\u002Fsrc\u002Fapp#\n\u003E Sequelize CLI [Node: 14.15.4, CLI: 6.2.0, ORM: 6.4.0]\n\n\u003E Loaded configuration file \"config\u002Fconfig.json\".\n\u003E Using environment \"development\".\n\u003E == 20210123053140-create-post: migrating =======\n\u003E == 20210123053140-create-post: migrated (0.022s)\n```\n`migrated`となればOK。\n\n## Expressからdbをさわってみる\n### Create\n```js:server.js\nconst express = require(\"express\");\nconst app = express();\n\n+ const models = require(\".\u002Fmodels\u002Findex\");\n\napp.get(\"\u002F\", (req, res) =\u003E {\n  res.send(\"Hello World!\");\n});\n\n+ \u002F\u002F createして\u002Fへリダイレクトする\n+ app.get(\"\u002Fcreate\", (req, res) =\u003E {\n+   await models.Post.create({\n+     title: \"sample title\",\n+     body: \"sample body\",\n+   });\n+   res.redirect(\"\u002F\");\n+ });\n\napp.listen(9000, () =\u003E {\n  console.log(\"The app listening on port 5000\");\n});\n```\n\nmodelsをrequireするとき、`.\u002Fmodels\u002F`だと**失敗**するので注意。\n\n#### アクセス \n```http:Chrome\nlocalhost:5000\u002Fcreate\n```\n\n#### pgAdminで確認\n`Servers\u002Fpostgres\u002FDatabases\u002Fdevelopment\u002FSchemas\u002Fpublic\u002FTables\u002F`の中の先ほど生成したモデル名のテーブルを右クリックし、`View\u002FEdit Data-\u003EAll Rows`\n\n![Screen Shot 2021-01-23 at 14.56.26.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F82d7033a-9f27-5284-187f-338364a224ce.png)\n\n`Data Output`タブでデータがCreateされているのが確認できる。\n\n\n\n### Read\n```js:server.js\nconst express = require(\"express\");\nconst app = express();\n\nconst models = require(\".\u002Fmodels\u002Findex\");\n\n\u002F\u002F 全て取得して返す\napp.get(\"\u002F\", (req, res) =\u003E {\n+   models.Post.findAll().then((posts) =\u003E {\n+     res.send(posts);\n+   });\n-   \u002F\u002F   res.send(\"Hello World!\");\n});\n\n\u002F\u002F createして\u002Fへリダイレクトする\napp.get(\"\u002Fcreate\", (req, res) =\u003E {\n  models.Post.create({\n    title: \"sample title\",\n    body: \"sample body\",\n  });\n  res.redirect(\"\u002F\");\n});\n\napp.listen(9000, () =\u003E {\n  console.log(\"The app listening on port 5000\");\n});\n```\n\n#### アクセス\n```http:Chrome\nlocalhost:5000\n```\n![Screen Shot 2021-01-23 at 15.00.58.png](https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002F12ca5737-9b4f-8286-99e8-d6a036e2158e.png)\n\n無事に取得できているのが確認できた！\n\n\n\n## おしまい\nあとは`ejs`を入れたりしてviewを整形したり、`bodyParser`でFormデータを受け取ったりすればサービスとして本格的な開発が進められる。\n\n### 今回のコード\nhttps:\u002F\u002Fgithub.com\u002Fnullworkbench\u002Fdocker-express-postgresql-sequelize\n\n\n\n\n",coediting:b,comments_count:d,created_at:"2021-01-23T15:20:43+09:00",group:a,id:"0e713ac6c237c20a6c54",likes_count:2,private:b,reactions_count:d,tags:[{name:"Node.js",versions:[]},{name:"Express",versions:[]},{name:"PostgreSQL",versions:[]},{name:"Docker",versions:[]},{name:"sequelize",versions:[]}],title:"Docker x Express x PostgreSQL x Sequelize 環境構築メモ",updated_at:"2021-01-23T16:00:12+09:00",url:"https:\u002F\u002Fqiita.com\u002Fnullworkbench\u002Fitems\u002F0e713ac6c237c20a6c54",user:{description:a,facebook_id:a,followees_count:c,followers_count:c,github_login_name:e,id:e,items_count:f,linkedin_id:a,location:a,name:g,organization:a,permanent_id:h,profile_image_url:i,team_only:b,twitter_screen_name:a,website_url:a},page_views_count:a,team_membership:a}]}},mutations:void 0}}(null,false,1,0,"nullworkbench",6,"",636889,"https:\u002F\u002Fqiita-image-store.s3.ap-northeast-1.amazonaws.com\u002F0\u002F636889\u002Fprofile-images\u002F1611382358","Xcode","Swift","JavaScript","Swift5","2021-02-19T22:09:09+09:00","2021-02-13T21:31:25+09:00")));